{"version":3,"sources":["tank.js","index.js"],"names":["_lulaRatoLadrao","_interopRequireDefault","require","e","__esModule","default","tankImage","Image","onload","src","tankImageSrc","_default","exports","update","_ref","progress","state","tank","rotation","Math","atan2","mouse","x","y","draw","_ref2","ctx","save","translate","rotate","drawImage","width","height","restore","_tank","canvas","document","getElementById","getContext","window","innerWidth","innerHeight","addEventListener","event","clientX","clientY","loop","timestamp","lastRender","Tank","clearRect","requestAnimationFrame"],"mappings":"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","file":"Rotation.e31bb0bc.js","sourceRoot":"..","sourcesContent":["// Import image from assets folder\r\nimport tankImageSrc from './assets/lula-rato-ladrao.png';\r\n\r\nconst tankImage = new Image();\r\n\r\ntankImage.onload = () => {\r\n    \r\n}\r\n\r\ntankImage.src = tankImageSrc\r\n\r\nexport default {\r\n    // Get the angle from the tank to mouse using trigonometry\r\n    update: ({ progress , state}) => {\r\n        state.tank.rotation = Math.atan2(\r\n            state.mouse.x - state.tank.x,\r\n            -(state.mouse.y - state.tank.y),\r\n        );\r\n    },\r\n    draw: ({ ctx, state }) => {\r\n        ctx.save();\r\n        ctx.translate(\r\n            state.tank.x,\r\n            state.tank.y,\r\n        );\r\n        ctx.rotate(state.tank.rotation);\r\n\r\n        ctx.drawImage(\r\n            // Drawing the image and putting the center of the image on the origin\r\n            tankImage,\r\n            -tankImage.width / 2,\r\n            -tankImage.height / 2,\r\n        )\r\n\r\n        ctx.restore();\r\n    }\r\n}","import Tank from './tank';\r\n\r\nconst canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\n// Expand the canvas to de width and heigth of the screen\r\nctx.canvas.width = window.innerWidth;\r\nctx.canvas.height = window.innerHeight;\r\n\r\nconst state = {\r\n    mouse: {\r\n        x: 0,\r\n        y: 0,\r\n    },\r\n    tank: {\r\n        x: 200,\r\n        y: 200,\r\n        rotation: 0,\r\n    }\r\n};\r\n\r\n// Listen to the mouse position and updates on the variavle mouse.x and mouse.y\r\nwindow.addEventListener('mousemove', (event) =>  {\r\n    state.mouse.x = event.clientX;\r\n    state.mouse.y = event.clientY;\r\n});\r\n\r\n// Using built-in request animation frame method to loop as fast as possible withou using too many resources\r\nfunction loop(timestamp) {\r\n  const progress = timestamp - lastRender;\r\n\r\n  Tank.update({ progress, state })\r\n\r\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n  Tank.draw({ ctx, state });\r\n\r\n  lastRender = timestamp;\r\n  window.requestAnimationFrame(loop);\r\n}\r\nlet lastRender = 0;\r\nwindow.requestAnimationFrame(loop);"]}